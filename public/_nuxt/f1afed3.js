(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{588:function(t,e,o){"use strict";o.r(e);var n=o(619),l={props:{titleText:"",title:{type:String,default:"0"},discount:{type:String,default:null}}},r=o(26),component=Object(r.a)(l,(function(){var t=this,e=t._self._c;return"1"==t.title?e("h1",{staticClass:"title-section"},[t._v(t._s(t.titleText)+" ")]):"2"==t.title?e("h2",{staticClass:"title-section"},[t._v(t._s(t.titleText))]):e("p",{staticClass:"title-section"},[t._v("\n   "+t._s(t.titleText)+"\n   "),null!==t.discount?e(n.a,{staticClass:"text-center ml-5 py-1 discount-detail d-flex-inline",attrs:{color:"#EB008B"}},[t._v("\n   -"+t._s(t._f("discount")(t.discount))+"\n   ")]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},900:function(t,e,o){"use strict";o.r(e);var n=o(661),l=o(562),r=o(574),d=o(573),c=o(819),m=(o(18),o(23),o(586)),h=o(596),f={components:{SectionTitle:o(588).default},mixins:[m.validationMixin],validations:{name:{required:h.required},email:{required:h.required,email:h.email},phone:{required:h.required},hotel:{required:h.required}},data:function(){return{name:"",email:"",phone:"",hotel:"",promoCode:"",alertPromo:!1,textAlertPromo:"",loading:!1,loadingPromo:!1}},computed:{nameErrors:function(){var t=[];return this.$v.name.$dirty?(!this.$v.name.required&&t.push(this.$t("forms.info.nameValidation")),t):t},emailErrors:function(){var t=[];return this.$v.email.$dirty?(!this.$v.email.email&&t.push(this.$t("forms.info.emailValidation")),!this.$v.email.required&&t.push(this.$t("forms.info.emailValidation2")),t):t},phoneErrors:function(){var t=[];return this.$v.phone.$dirty?(!this.$v.phone.required&&t.push(this.$t("forms.info.phoneValidation")),t):t},hotelErrors:function(){var t=[];return this.$v.hotel.$dirty?(!this.$v.hotel.required&&t.push(this.$t("forms.info.hotelValidation")),t):t},language:function(){return this.$store.getters["booking/languageName"]},tourDetail:function(){return this.$store.getters["booking/tours"]},currency:function(){return this.$store.getters["booking/currency"]},totals:function(){return"ing"===this.language?this.$store.getters["booking/bookingTotal"].usd:this.$store.getters["booking/bookingTotal"].mxn},mobile:function(){return this.isMobile()},languageId:function(){return this.$store.getters["booking/language"]}},methods:{triggerPayment:function(){if(this.$v.$touch(),this.$v.$invalid)return!1;this.$store.commit("booking/addClient",{name:this.name,email:this.email,phone:this.phone,hotel:this.hotel}),this.sendPreBook()},sendPreBook:function(){var t=this;this.loading=!0,this.$axios.post("/preBookEmail",{name:this.name,email:this.email,phone:this.phone,language:this.language,amount:this.totals.usd,currency:this.currency,toursInfo:this.tourDetail,hotel:this.hotel}).then((function(e){t.loading=!1,t.$nuxt.$emit("goPaymentEvent")})).catch((function(e){console.log(e),t.loading=!1,t.textErrorBook="some error: ".concat(e.response.status," . ").concat(e.response.data.message)}))},validatePromcode:function(){var t=this;this.alertPromo=!1,this.textAlertPromo="",this.loadingPromo=!0;var e=!0;""===this.promoCode&&(this.alertPromo=!0,this.textAlertPromo=this.$t("forms.info.validPromoCode"),e=!1,this.loadingPromo=!1),e&&this.$axios.post("getPromoCode",{id:this.tourDetail.id,date:this.tourDetail.date,promocode:this.promoCode,adult:this.tourDetail.adultos,child:this.tourDetail.ninos,idioma:this.languageId,moneda:this.currency}).then((function(e){t.loadingPromo=!1,t.$store.dispatch("booking/setPromocode",e.data)})).catch((function(e){console.log(e.response.data.data),t.alertPromo=!0,t.textAlertPromo=e.response.data.data,t.loadingPromo=!1}))}}},v=o(26),component=Object(v.a)(f,(function(){var t=this,e=t._self._c;return e("div",[e(d.a,[e(r.a,{staticClass:"text-center",attrs:{cols:"12"}},[e("SectionTitle",{attrs:{titleText:t.$t("forms.info.title")}})],1)],1),t._v(" "),e(d.a,[e(r.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(c.a,{staticClass:"form-field rounded-lg",attrs:{placeholder:t.$t("forms.info.nameField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto","error-messages":t.nameErrors},on:{input:function(e){return t.$v.name.$touch()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),t._v(" "),e(d.a,[e(r.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(c.a,{staticClass:"form-field rounded-lg",attrs:{placeholder:t.$t("forms.info.emailField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto","error-messages":t.emailErrors},on:{input:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),e(d.a,[e(r.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(c.a,{staticClass:"form-field rounded-lg",attrs:{placeholder:t.$t("forms.info.phoneField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto","error-messages":t.phoneErrors},on:{input:function(e){return t.$v.phone.$touch()}},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1),t._v(" "),e(d.a,[e(r.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(c.a,{staticClass:"form-field rounded-lg",attrs:{placeholder:t.$t("forms.info.hotelField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto","error-messages":t.hotelErrors},on:{input:function(e){return t.$v.hotel.$touch()}},model:{value:t.hotel,callback:function(e){t.hotel=e},expression:"hotel"}})],1)],1),t._v(" "),e(d.a,[e(r.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"7",md:"8"}},[e(c.a,{staticClass:"form-field rounded-lg",attrs:{placeholder:t.$t("forms.info.promoCodeField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto"},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}}),t._v(" "),e(n.a,{attrs:{color:"orange",dismissible:"",elevation:"2",type:"info"},model:{value:t.alertPromo,callback:function(e){t.alertPromo=e},expression:"alertPromo"}},[t._v(t._s(t.textAlertPromo))])],1),t._v(" "),e(r.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"5",md:"4"}},[e(l.a,{staticClass:"bookBtn rounded-lg py-5",attrs:{elevation:"0",loading:t.loadingPromo,block:""},on:{click:t.validatePromcode}},[t._v(" "+t._s(t.$t("forms.info.btnPromo")))])],1)],1),t._v(" "),e(d.a,[e(r.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(l.a,{staticClass:"bookBtn rounded-lg py-5",attrs:{block:"",elevation:"0",loading:t.loading},on:{click:t.triggerPayment}},[t._v("\n            "+t._s(t.$t("forms.info.btnSubmit"))+"\n         ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);